<html>
<head>
  <title>Sino-Tibetan Lexical Homology Database</title>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <script src="vendor/jquery-1.10.2.js"></script>
  <script src="vendor/bootstrap.min.js"></script>
  <script src="vendor/bootstrap-multiselect.js"></script>
  <link rel="stylesheet" type="text/css" href="style/main.css" />
</head>
<body>
  <div style="margin:10px">
  <h1>Select your settings for the database</h1>
  <div>
  <p>The database currently contains 256 concepts translated into 58 languages and an
  average coverage of 70.26 words per language.</p>

    <p>Use this template to organize, which part of the database you want to 
    inspect, work on, or check. By using the selections below, you can choose which doculects should
    be displayed, which concepts the selection should contain, and which columns (the main fields of
    data) the resulting wordlist should contain. The result is a specific URL that communicates all
    necessary parameters to the database application and can also be bookmarked for convenience.</p>
    <label>Select Doculects:
      <select id="doculects" class="selex" multiple="" style="display: none;">
      <option value="Achang_Lianghe">Achang_Lianghe (Burmish, 0 concepts)</option>
<option value="Achang_Longchuan">Achang_Longchuan (Burmish, 0 concepts)</option>
<option value="Achang_Luxi">Achang_Luxi (Burmish, 0 concepts)</option>
<option value="Atsi">Atsi (Burmish, 0 concepts)</option>
<option value="Beijing">Beijing (Sinitic, 0 concepts)</option>
<option value="Bola">Bola (Burmish, 0 concepts)</option>
<option value="Burmese">Burmese (Burmish, 99 concepts)</option>
<option value="Caijia">Caijia (Sinitic, 0 concepts)</option>
<option value="Changsha">Changsha (Sinitic, 0 concepts)</option>
<option value="Changshan">Changshan (?, 0 concepts)</option>
<option value="Cone_Tibetan">Cone_Tibetan (Bodic, 0 concepts)</option>
<option value="Dancun">Dancun (?, 203 concepts)</option>
<option value="Dashi">Dashi (Bai, 128 concepts)</option>
<option value="Dulong">Dulong (Nungish, 0 concepts)</option>
<option value="Dumi">Dumi (Kiranti, 0 concepts)</option>
<option value="Ega">Ega (Bai, 127 concepts)</option>
<option value="Enqi">Enqi (Bai, 128 concepts)</option>
<option value="Eryuan">Eryuan (Bai, 159 concepts)</option>
<option value="Ganzhou">Ganzhou (?, 197 concepts)</option>
<option value="Gongxing">Gongxing (Bai, 127 concepts)</option>
<option value="Guangzhou">Guangzhou (Sinitic, 0 concepts)</option>
<option value="Guiqiong">Guiqiong (rGyalrongic, 0 concepts)</option>
<option value="Guzhang">Guzhang (?, 179 concepts)</option>
<option value="Heqi">Heqi (Bai, 160 concepts)</option>
<option value="Hpun">Hpun (Burmish, 0 concepts)</option>
<option value="Japhug">Japhug (rGyalrongic, 240 concepts)</option>
<option value="Jianchuan">Jianchuan (Bai, 160 concepts)</option>
<option value="Jingpo">Jingpo (SAL, 0 concepts)</option>
<option value="Jinman">Jinman (Bai, 127 concepts)</option>
<option value="Jinxing">Jinxing (Bai, 128 concepts)</option>
<option value="Jixi">Jixi (?, 189 concepts)</option>
<option value="Khaling">Khaling (Kiranti, 97 concepts)</option>
<option value="Khroskyabs_Wobzi">Khroskyabs_Wobzi (rGyalrongic, 0 concepts)</option>
<option value="Lashi">Lashi (Burmish, 0 concepts)</option>
<option value="Lhasa_Tibetan">Lhasa_Tibetan (Bodic, 0 concepts)</option>
<option value="Limbu">Limbu (Kiranti, 97 concepts)</option>
<option value="Luobenzhuo">Luobenzhuo (Bai, 160 concepts)</option>
<option value="Maru">Maru (Burmish, 0 concepts)</option>
<option value="Mazhelong">Mazhelong (Bai, 128 concepts)</option>
<option value="Meixian">Meixian (Sinitic, 0 concepts)</option>
<option value="Muya">Muya (rGyalrongic, 0 concepts)</option>
<option value="Old_Burmese">Old_Burmese (Burmish, 0 concepts)</option>
<option value="Old_Chinese">Old_Chinese (Sinitic, 191 concepts)</option>
<option value="Old_Tibetan">Old_Tibetan (Bodic, 240 concepts)</option>
<option value="Qiliqiao">Qiliqiao (Bai, 160 concepts)</option>
<option value="Qimen">Qimen (?, 75 concepts)</option>
<option value="Stau">Stau (rGyalrongic, 0 concepts)</option>
<option value="Tangut">Tangut (rGyalrongic, 98 concepts)</option>
<option value="Wambule">Wambule (Kiranti, 0 concepts)</option>
<option value="Xiamen">Xiamen (Sinitic, 0 concepts)</option>
<option value="Xiandau">Xiandau (Burmish, 0 concepts)</option>
<option value="Xiangyun">Xiangyun (Bai, 159 concepts)</option>
<option value="Yakkha">Yakkha (Kiranti, 0 concepts)</option>
<option value="Yamphu">Yamphu (Kiranti, 0 concepts)</option>
<option value="Yunlong">Yunlong (Bai, 160 concepts)</option>
<option value="Zbu">Zbu (rGyalrongic, 0 concepts)</option>
<option value="Zhaozhuang">Zhaozhuang (Bai, 31 concepts)</option>
<option value="Zhoucheng">Zhoucheng (Bai, 128 concepts)</option>

      </select>
    </label>
    <br>
    <label>Select Concepts:
      <select id="concepts" class="selex" multiple="" style="display: none;">
	<option value="I [first person singular]" selected>I [first person singular]</option>
<option value="above" selected>above</option>
<option value="all" selected>all</option>
<option value="and" selected>and</option>
<option value="at" selected>at</option>
<option value="bad" selected>bad</option>
<option value="because" selected>because</option>
<option value="below, under" selected>below, under</option>
<option value="big" selected>big</option>
<option value="black" selected>black</option>
<option value="cold (of temperature)" selected>cold (of temperature)</option>
<option value="correct (right)" selected>correct (right)</option>
<option value="dirty" selected>dirty</option>
<option value="dry" selected>dry</option>
<option value="dull" selected>dull</option>
<option value="eight" selected>eight</option>
<option value="far" selected>far</option>
<option value="fat (obese)" selected>fat (obese)</option>
<option value="female" selected>female</option>
<option value="few" selected>few</option>
<option value="five" selected>five</option>
<option value="four" selected>four</option>
<option value="full" selected>full</option>
<option value="good" selected>good</option>
<option value="green" selected>green</option>
<option value="he or she [third person singular]" selected>he or she [third person singular]</option>
<option value="heavy" selected>heavy</option>
<option value="here" selected>here</option>
<option value="how" selected>how</option>
<option value="hundred" selected>hundred</option>
<option value="if" selected>if</option>
<option value="in" selected>in</option>
<option value="knife" selected>knife</option>
<option value="left" selected>left</option>
<option value="long" selected>long</option>
<option value="male" selected>male</option>
<option value="many" selected>many</option>
<option value="narrow" selected>narrow</option>
<option value="near" selected>near</option>
<option value="new" selected>new</option>
<option value="nine" selected>nine</option>
<option value="not" selected>not</option>
<option value="now" selected>now</option>
<option value="old (of person)" selected>old (of person)</option>
<option value="one" selected>one</option>
<option value="other" selected>other</option>
<option value="painful" selected>painful</option>
<option value="red" selected>red</option>
<option value="right" selected>right</option>
<option value="rotten (of fruits)" selected>rotten (of fruits)</option>
<option value="round" selected>round</option>
<option value="seven" selected>seven</option>
<option value="sharp" selected>sharp</option>
<option value="short" selected>short</option>
<option value="shy" selected>shy</option>
<option value="sick" selected>sick</option>
<option value="six" selected>six</option>
<option value="small" selected>small</option>
<option value="smooth" selected>smooth</option>
<option value="some" selected>some</option>
<option value="straight" selected>straight</option>
<option value="ten" selected>ten</option>
<option value="that" selected>that</option>
<option value="the animal" selected>the animal</option>
<option value="the ashes" selected>the ashes</option>
<option value="the back" selected>the back</option>
<option value="the bark" selected>the bark</option>
<option value="the belly" selected>the belly</option>
<option value="the bird" selected>the bird</option>
<option value="the blood" selected>the blood</option>
<option value="the bone" selected>the bone</option>
<option value="the branch" selected>the branch</option>
<option value="the breast" selected>the breast</option>
<option value="the child (descendant)" selected>the child (descendant)</option>
<option value="the child (young human" selected>the child (young human</option>
<option value="the cloud" selected>the cloud</option>
<option value="the day (opposed to night)" selected>the day (opposed to night)</option>
<option value="the dog" selected>the dog</option>
<option value="the dream" selected>the dream</option>
<option value="the dust" selected>the dust</option>
<option value="the ear" selected>the ear</option>
<option value="the earth (soil)" selected>the earth (soil)</option>
<option value="the egg" selected>the egg</option>
<option value="the eye" selected>the eye</option>
<option value="the fat (grease)" selected>the fat (grease)</option>
<option value="the father" selected>the father</option>
<option value="the feather" selected>the feather</option>
<option value="the fire" selected>the fire</option>
<option value="the fish" selected>the fish</option>
<option value="the flower" selected>the flower</option>
<option value="the fog" selected>the fog</option>
<option value="the foot" selected>the foot</option>
<option value="the forest" selected>the forest</option>
<option value="the fruit" selected>the fruit</option>
<option value="the grass" selected>the grass</option>
<option value="the hair" selected>the hair</option>
<option value="the hand" selected>the hand</option>
<option value="the head" selected>the head</option>
<option value="the heart" selected>the heart</option>
<option value="the horn (keratinized skin)" selected>the horn (keratinized skin)</option>
<option value="the house" selected>the house</option>
<option value="the husband" selected>the husband</option>
<option value="the ice" selected>the ice</option>
<option value="the intestines" selected>the intestines</option>
<option value="the knee" selected>the knee</option>
<option value="the lake" selected>the lake</option>
<option value="the leaf" selected>the leaf</option>
<option value="the leg" selected>the leg</option>
<option value="the lightning" selected>the lightning</option>
<option value="the liver" selected>the liver</option>
<option value="the louse" selected>the louse</option>
<option value="the man (male human)" selected>the man (male human)</option>
<option value="the meat" selected>the meat</option>
<option value="the moon" selected>the moon</option>
<option value="the mosquito" selected>the mosquito</option>
<option value="the mother" selected>the mother</option>
<option value="the mountain" selected>the mountain</option>
<option value="the mouse or rat" selected>the mouse or rat</option>
<option value="the mouth" selected>the mouth</option>
<option value="the nail (fingernail or claw)" selected>the nail (fingernail or claw)</option>
<option value="the name" selected>the name</option>
<option value="the neck" selected>the neck</option>
<option value="the needle (for sewing)" selected>the needle (for sewing)</option>
<option value="the night" selected>the night</option>
<option value="the nose" selected>the nose</option>
<option value="the person" selected>the person</option>
<option value="the rain" selected>the rain</option>
<option value="the river" selected>the river</option>
<option value="the road" selected>the road</option>
<option value="the roof" selected>the roof</option>
<option value="the root" selected>the root</option>
<option value="the rope" selected>the rope</option>
<option value="the salt" selected>the salt</option>
<option value="the sand" selected>the sand</option>
<option value="the sea" selected>the sea</option>
<option value="the seed" selected>the seed</option>
<option value="the shoulder" selected>the shoulder</option>
<option value="the skin" selected>the skin</option>
<option value="the sky" selected>the sky</option>
<option value="the smoke" selected>the smoke</option>
<option value="the snake" selected>the snake</option>
<option value="the snow" selected>the snow</option>
<option value="the spider" selected>the spider</option>
<option value="the star" selected>the star</option>
<option value="the stick" selected>the stick</option>
<option value="the stone (a piece of)" selected>the stone (a piece of)</option>
<option value="the sun" selected>the sun</option>
<option value="the tail" selected>the tail</option>
<option value="the thunder" selected>the thunder</option>
<option value="the tongue" selected>the tongue</option>
<option value="the tooth (front)" selected>the tooth (front)</option>
<option value="the tree" selected>the tree</option>
<option value="the water" selected>the water</option>
<option value="the wife" selected>the wife</option>
<option value="the wind" selected>the wind</option>
<option value="the wing" selected>the wing</option>
<option value="the woman" selected>the woman</option>
<option value="the wood (material)" selected>the wood (material)</option>
<option value="the work" selected>the work</option>
<option value="the worm" selected>the worm</option>
<option value="the year" selected>the year</option>
<option value="there" selected>there</option>
<option value="they [third person plural]" selected>they [third person plural]</option>
<option value="thick" selected>thick</option>
<option value="thin" selected>thin</option>
<option value="this" selected>this</option>
<option value="thou [second person singular]" selected>thou [second person singular]</option>
<option value="three" selected>three</option>
<option value="to bark" selected>to bark</option>
<option value="to be alive" selected>to be alive</option>
<option value="to bite" selected>to bite</option>
<option value="to blow (of wind)" selected>to blow (of wind)</option>
<option value="to breathe" selected>to breathe</option>
<option value="to burn [intransitive]" selected>to burn [intransitive]</option>
<option value="to burn [transitive]" selected>to burn [transitive]</option>
<option value="to buy" selected>to buy</option>
<option value="to chew" selected>to chew</option>
<option value="to choose" selected>to choose</option>
<option value="to climb" selected>to climb</option>
<option value="to come" selected>to come</option>
<option value="to cook" selected>to cook</option>
<option value="to count" selected>to count</option>
<option value="to cry (weep)" selected>to cry (weep)</option>
<option value="to cut" selected>to cut</option>
<option value="to die" selected>to die</option>
<option value="to dig" selected>to dig</option>
<option value="to drink" selected>to drink</option>
<option value="to eat" selected>to eat</option>
<option value="to fall" selected>to fall</option>
<option value="to fear (be afraid)" selected>to fear (be afraid)</option>
<option value="to fight" selected>to fight</option>
<option value="to float" selected>to float</option>
<option value="to flow" selected>to flow</option>
<option value="to fly (move through air)" selected>to fly (move through air)</option>
<option value="to freeze (intransitive)" selected>to freeze (intransitive)</option>
<option value="to give" selected>to give</option>
<option value="to grow" selected>to grow</option>
<option value="to hear" selected>to hear</option>
<option value="to hide (conceal)" selected>to hide (conceal)</option>
<option value="to hit" selected>to hit</option>
<option value="to hold" selected>to hold</option>
<option value="to hunt" selected>to hunt</option>
<option value="to kill" selected>to kill</option>
<option value="to know" selected>to know</option>
<option value="to laugh" selected>to laugh</option>
<option value="to lick" selected>to lick</option>
<option value="to lie down" selected>to lie down</option>
<option value="to lie, rest" selected>to lie, rest</option>
<option value="to open" selected>to open</option>
<option value="to plant" selected>to plant</option>
<option value="to play" selected>to play</option>
<option value="to pull" selected>to pull</option>
<option value="to push" selected>to push</option>
<option value="to reside (live)" selected>to reside (live)</option>
<option value="to rub" selected>to rub</option>
<option value="to say" selected>to say</option>
<option value="to scratch" selected>to scratch</option>
<option value="to see" selected>to see</option>
<option value="to sew" selected>to sew</option>
<option value="to shoot (an arrow)" selected>to shoot (an arrow)</option>
<option value="to sing" selected>to sing</option>
<option value="to sit" selected>to sit</option>
<option value="to sleep" selected>to sleep</option>
<option value="to smell (perceive odor) [transitive]" selected>to smell (perceive odor) [transitive]</option>
<option value="to spit" selected>to spit</option>
<option value="to split" selected>to split</option>
<option value="to squeeze" selected>to squeeze</option>
<option value="to stab" selected>to stab</option>
<option value="to stand" selected>to stand</option>
<option value="to steal" selected>to steal</option>
<option value="to suck" selected>to suck</option>
<option value="to swell" selected>to swell</option>
<option value="to swim" selected>to swim</option>
<option value="to think (reflect)" selected>to think (reflect)</option>
<option value="to throw" selected>to throw</option>
<option value="to tie (together)" selected>to tie (together)</option>
<option value="to turn (around)" selected>to turn (around)</option>
<option value="to vomit" selected>to vomit</option>
<option value="to walk" selected>to walk</option>
<option value="to wash" selected>to wash</option>
<option value="to wipe" selected>to wipe</option>
<option value="to yawn" selected>to yawn</option>
<option value="twenty" selected>twenty</option>
<option value="two" selected>two</option>
<option value="warm (hot)" selected>warm (hot)</option>
<option value="we [first person plural]" selected>we [first person plural]</option>
<option value="wet" selected>wet</option>
<option value="what" selected>what</option>
<option value="when" selected>when</option>
<option value="where" selected>where</option>
<option value="white" selected>white</option>
<option value="who" selected>who</option>
<option value="wide" selected>wide</option>
<option value="with" selected>with</option>
<option value="yellow" selected>yellow</option>
<option value="you [second person plural]" selected>you [second person plural]</option>
</select></label>
    <br>
    <label>Select Columns: 
  <select id="columns" class="selex" multiple="" style="display: none;">
    <option value="ABVD">ABVD</option><option value="ALIGNMENT">ALIGNMENT</option><option value="BORROWED">BORROWED</option><option value="BORROWING">BORROWING</option><option value="CHINESE">CHINESE</option><option value="COGID">COGID</option><option value="CONCEPT" selected>CONCEPT</option><option value="DOCULECT" selected>DOCULECT</option><option value="DUPLICATES">DUPLICATES</option><option value="ENTRY_IN_SOURCE" selected>ENTRY IN SOURCE</option><option value="GLOSS_IN_SOURCE" selected>GLOSS IN SOURCE</option><option value="HANZI" selected>HANZI</option><option value="IELEX">IELEX</option><option value="IPA" selected>IPA</option><option value="MORPHEME_STRUCTURE">MORPHEME STRUCTURE</option><option value="NOTE" selected>NOTE</option><option value="OMEGAWIKI">OMEGAWIKI</option><option value="PARADIGM_1">PARADIGM 1</option><option value="PARADIGM_2">PARADIGM 2</option><option value="PARADIGM_3">PARADIGM 3</option><option value="PARADIGM_4">PARADIGM 4</option><option value="POS">POS</option><option value="SCAID">SCAID</option><option value="SOURCE">SOURCE</option><option value="SUBGROUP">SUBGROUP</option><option value="SWADESH_1952">SWADESH 1952</option><option value="SWADESH_1955">SWADESH 1955</option><option value="TOKENS" selected>TOKENS</option><option value="TOWEROFBABEL">TOWEROFBABEL</option><option value="WOLD" selected>WOLD</option></select></label>
  </div>
  <button onclick="makeURL();">SUBMIT</button>
  
  <div id="output"></div></div>
  <script>$('#concepts').multiselect({
      disableIfEmtpy: true,
      includeSelectAllOption : true,
      enableFiltering: true,
      enableCaseInsensitiveFiltering: true,
 }
    );

$('#doculects').multiselect({
      disableIfEmtpy: true,
      includeSelectAllOption : true,
      enableFiltering: true,
      enableCaseInsensitiveFiltering: true,
}
    );

$('#columns').multiselect({
      disableIfEmtpy: true,
      includeSelectAllOption : true,
      enableFiltering: true,
      enableCaseInsensitiveFiltering: true,
}
    );

var sortprefs = {
  'DOCULECT' : 1,
  'CONCEPT' : 3,
  'GLOSS_IN_SOURCE' :2,
  'IPA' : 5,
  'ENTRY_IN_SOURCE' : 4,
  'TOKENS' : 6,
  'ALIGNMENT' : 7,
  'NOTE' : 8
};

function makeURL() {
  
  url = 'http://tsv.lingpy.org?remote_dbase=sinotibetan.sqlite3' 
    + '&file=sinotibetan&preview=1000'
    + '&basics=DOCULECT|CONCEPT|IPA|TOKENS|BORROWING|NOTE|COGID|ALIGNMENT'
    ;

  /* get selected doculects */
  var docs = document.getElementById('doculects');
  var doculects = [];
  for (var i=0,doc; doc=docs.options[i]; i++) {
    if (doc.selected) {doculects.push(doc.value);
    }
  }

  if (doculects.length != docs.options.length && doculects.length > 0) {
    url += '&doculects='+doculects.join('|');
  }


  /* get selected doculects */
  var docs = document.getElementById('concepts');
  var concepts = [];
  for (var i=0,doc; doc=docs.options[i]; i++) {
    if (doc.selected) {concepts.push(doc.value);
    }
  }
  if (concepts.length != docs.options.length && concepts.length > 0) {
    url += '&concepts='+concepts.join('|');
  }

  /* get selected doculects */
  var docs = document.getElementById('columns');
  var columns = [];
  for (var i=0,doc; doc=docs.options[i]; i++) {
    if (doc.selected) {columns.push(doc.value);
    }
  }
  columns.sort(
      function (x,y) {
	_x = (x in sortprefs) ? sortprefs[x] : x.charCodeAt(0);
	_y = (y in sortprefs) ? sortprefs[y] : y.charCodeAt(0);
	return _x - _y;
      });
  console.log(columns);
  
  if (columns.length != docs.options.length && columns.length > 0) {
    url += '&columns='+columns.join('|');
  }

  /* output the url */
  var output = document.getElementById('output');
  output.innerHTML = '<br><br><p style="margin-top:30px;width:60%;font-size:16px">Press <a style="color:red;font-weight:bold;" href="'+url+'" target="_blank">here</a> to open the database '
    + 'with your specified settings, or paste the link below in your browser.</p>';
  output.innerHTML += '<pre style="width:60%"><code>'+url+'</code></pre>';

}
</script>
</body>
</html>
